<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sharelette</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            background-color: #f0f2f5;
        }
        .container {
            background-color: #fff;
            padding: 2rem;
            border-radius: 0.5rem;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            text-align: center;
            max-width: 500px;
            width: 90%;
        }
        .header {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 1rem;
            margin-bottom: 1.5rem;
        }
        .logo {
            width: 80px;
            height: 80px;
        }
        h1 {
            margin: 0;
            font-size: 2.5rem;
            font-weight: bold;
        }
        .content {
            margin-bottom: 2rem;
            background: #f9f9f9;
            padding: 1rem;
            border-radius: 0.25rem;
        }
        .content p {
            margin: 0;
            word-wrap: break-word;
        }
        .share-buttons {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 1rem;
        }
        .share-btn {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.75rem 1.25rem;
            border: none;
            border-radius: 0.25rem;
            font-size: 1rem;
            color: #fff;
            cursor: pointer;
            text-decoration: none;
            transition: background-color 0.3s;
        }
        .share-btn:hover {
            opacity: 0.9;
        }
        /* Standard Share Buttons */
        .facebook { background-color: #1877f2; }
        .twitter { background-color: #1da1f2; }
        .linkedin { background-color: #0a66c2; }
        .email { background-color: #7d7d7d; }
        .sms { background-color: #4CAF50; }

        /* New Share Buttons */
        .reddit { background-color: #FF4500; }
        .lemmy { background-color: #00C161; }
        .mastodon { background-color: #6364FF; }
        .discord { background-color: #5865F2; }

        /* Action Buttons */
        .native-share, .copy {
            background-color: #25d366;
            width: 100%;
            justify-content: center;
            margin-top: 1rem;
        }
       .copy {
            background-color: #ffc107;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <svg class="logo" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100">
                <style>
                  .woman { fill: #4A4A4A; }
                  .speech-bubble { fill: #F2F2F2; stroke: #4A4A4A; stroke-width: 2; }
                </style>
                <circle class="woman" cx="50" cy="30" r="10"/>
                <path class="woman" d="M35,45 C35,55 65,55 65,45 Q65,40 50,40 Q35,40 35,45 Z"/>
                <path class="woman" d="M50,50 L50,80 L60,80 L60,60 L40,60 L40,80 L50,80"/>
                <path class="speech-bubble" d="M60,10 C40,10 20,25 20,40 C20,55 35,55 50,55 L50,65 L60,55 C75,55 90,45 90,30 C90,15 75,10 60,10 Z"/>
            </svg>
            <h1>Sharelette</h1>
        </div>
        <div class="content">
            <p id="textContent">Your content will appear here.</p>
        </div>
        <div class="share-buttons">
            <a href="#" id="facebook-share" class="share-btn facebook" target="_blank">Facebook</a>
            <a href="#" id="twitter-share" class="share-btn twitter" target="_blank">Twitter</a>
            <a href="#" id="linkedin-share" class="share-btn linkedin" target="_blank">LinkedIn</a>
            <a href="#" id="reddit-share" class="share-btn reddit" target="_blank">Reddit</a>
            <a href="#" id="mastodon-share" class="share-btn mastodon" target="_blank">Mastodon</a>
            <a href="#" id="lemmy-share" class="share-btn lemmy" target="_blank">Lemmy</a>
            <a href="#" id="email-share" class="share-btn email">Email</a>
            <a href="#" id="sms-share" class="share-btn sms">SMS</a>
            <button id="discord-share" class="share-btn discord">Discord</button>
        </div>
        <button id="native-share" class="share-btn native-share" style="display: none;">Share</button>
        <button id="copy-btn" class="share-btn copy">Copy Link</button>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const params = new URLSearchParams(window.location.search);
            const url = params.get('url') || 'https://example.com';
            const text = params.get('text') || 'Check out this awesome link!';
            const userAgent = navigator.userAgent || navigator.vendor || window.opera;

            document.getElementById('textContent').textContent = text;
            const encodedUrl = encodeURIComponent(url);
            const encodedText = encodeURIComponent(text);

            // Standard & Federated Shares
            document.getElementById('facebook-share').href = `https://www.facebook.com/sharer/sharer.php?u=${encodedUrl}`;
            document.getElementById('twitter-share').href = `https://twitter.com/intent/tweet?url=${encodedUrl}&text=${encodedText}`;
            document.getElementById('linkedin-share').href = `https://www.linkedin.com/shareArticle?mini=true&url=${encodedUrl}&title=${encodedText}`;
            document.getElementById('reddit-share').href = `https://www.reddit.com/submit?url=${encodedUrl}&title=${encodedText}`;
            document.getElementById('mastodon-share').href = `https://mastodon.social/share?text=${encodedText}%20${encodedUrl}`;
            document.getElementById('lemmy-share').href = `https://lemmy.world/create_post?title=${encodedText}&url=${encodedUrl}`;
            document.getElementById('email-share').href = `mailto:?subject=${encodedText}&body=${text}%20${url}`;
            
            let smsLink;
            if (/iPad|iPhone|iPod/.test(userAgent) && !window.MSStream) {
                smsLink = `sms:?&body=${encodedText}%20${encodedUrl}`;
            } else {
                smsLink = `sms:?body=${encodedText}%20${encodedUrl}`;
            }
            document.getElementById('sms-share').href = smsLink;

            // Clipboard-based Shares
            const discordBtn = document.getElementById('discord-share');
            discordBtn.addEventListener('click', () => {
                const discordText = `${text}\n${url}`;
                navigator.clipboard.writeText(discordText).then(() => {
                    discordBtn.textContent = 'Copied!';
                    setTimeout(() => {
                        discordBtn.textContent = 'Discord';
                    }, 2000);
                }).catch(err => {
                    console.error('Failed to copy for Discord: ', err);
                });
            });

            // Native & Copy Fallback
            const nativeShareBtn = document.getElementById('native-share');
            if (navigator.share) {
                nativeShareBtn.style.display = 'block';
                nativeShareBtn.addEventListener('click', async () => {
                    try {
                        await navigator.share({ title: text, text: text, url: url });
                    } catch (err) {
                        console.error("Error using navigator.share:", err);
                    }
                });
            }

            const copyBtn = document.getElementById('copy-btn');
            copyBtn.addEventListener('click', () => {
                navigator.clipboard.writeText(url).then(() => {
                    copyBtn.textContent = 'Copied!';
                    setTimeout(() => { copyBtn.textContent = 'Copy Link'; }, 2000);
                }).catch(err => {
                    console.error('Failed to copy: ', err);
                });
            });
        });
    </script>
</body>
</html>
